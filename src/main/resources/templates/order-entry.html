<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Lab Order</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<h1>Form</h1>
<form action="#" th:action="@{/order/{path}(path=${uuid})}" th:object="${order}" method="post">
    <p>
        Client ID:
        <input type="number" th:disabled="${order.uuid != null}" th:field="*{clientId}"/>
    </p>
    <p>
        Analysis:
        <input type="text" th:disabled="${order.uuid != null}" th:value="*{analysis}" th:field="*{analysis}"/>
    </p>
    <p>
        Priority:
        <select id="priority" name="priority" th:disabled="${order.uuid != null}" th:field="*{priority}">
            <option th:each="priorityOpt : ${T(ch.fhnw.digibp.domain.Priority).values()}"
                    th:value="${priorityOpt}" th:text="${priorityOpt}"></option>
        </select>
    </p>
    <p>
        Comment:
        <textarea rows="5" th:field="*{comment}"/>
    </p>
    <p th:if="${order.sample?.sampleType != null}">
        <a th:href="@{/order/{path}/sample(path=${order.uuid})}">Sample</a>
    </p>
    <p th:if="${order.analysisResult?.endDate != null}">
        <a th:href="@{/order/{path}/analysis(path=${order.uuid})}">Analysis Result</a>
    </p>
    <button type="submit" name="action" value="submit">Save</button>
    <button th:if="${T(ch.fhnw.digibp.order.Order.State).CONFIRMED == order.state}" type="submit" name="action" value="enterSample">Enter Sample
    </button>
    <button th:if="${T(ch.fhnw.digibp.order.Order.State).SAMPLE_RECEIVED == order.state}" type="submit" name="action" value="startAnalysis">Start Analysis
    </button>
    <button th:if="${T(ch.fhnw.digibp.order.Order.State).IN_ANALYSIS == order.state}" type="submit" name="action" value="enterAnalysisResult">Enter Analysis
        Results
    </button>
    </p>
</form>
</body>
</html>

